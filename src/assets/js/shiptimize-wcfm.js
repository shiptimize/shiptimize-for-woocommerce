/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "/shiptimize-for-woocommerce/assets/js";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/shiptimize-wcfm.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/shiptimize-wcfm.js":
/*!*******************************!*\
  !*** ./js/shiptimize-wcfm.js ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/** \n * Add any aditional functionality we need in the vendor dashboard \n */\nvar ShiptimizeWCFM = function () {\n  function ShiptimizeWCFM() {\n    var _this = this;\n\n    _classCallCheck(this, ShiptimizeWCFM);\n\n    /** \n     * Because wcfm will first build the structure for the rules and only then set hte values \n     */\n    this.shipping_methods = ['wcfmmp_shipping_rates_by_weight', 'wcfmmp_shipping_rates'];\n\n    if (jQuery(\"#enable_store_shipping\").size() > 0) {\n      this.appendSelectors();\n    }\n\n    /** \n     * On save if keys are set then check if they produced a valid token \n     */\n    jQuery(\"#wcfm_settings_save_button\").on('click', function (evt) {\n      if (jQuery(\"input[name='shiptimize_public_key']\").val() && jQuery(\"input[name='shiptimize_private_key']\").val()) {\n        setTimeout(function () {\n          _this.checkIfKeysAreValid();\n        }, 500);\n      }\n    });\n  }\n\n  _createClass(ShiptimizeWCFM, [{\n    key: 'appendSelectors',\n    value: function appendSelectors() {\n      var _this2 = this;\n\n      var eCarrierOption = jQuery(\"<div><p class='wcfm_title'><strong>Shiptimize</strong></p></div>\");\n      var eCarriers = jQuery(\"<select class='wcfm-select shiptimize_carrier'><option>-</option>\");\n\n      for (var x = 0; x < shiptimize_carriers.length; ++x) {\n        eCarriers.append(\"<option value='\" + shiptimize_carriers[x].Id + \"'>\" + shiptimize_carriers[x].Name + \"</option>\");\n      }\n\n      eCarrierOption.append(eCarriers);\n\n      for (var x = 0; x < this.shipping_methods.length; ++x) {\n        this.appendShiptimizeTo(this.shipping_methods[x], eCarrierOption);\n      }\n\n      setTimeout(function () {\n        _this2.setSelectedCarrier();\n      }, 1000);\n    }\n  }, {\n    key: 'checkIfKeysAreValid',\n    value: function checkIfKeysAreValid() {\n      var data = { 'action': 'shiptimize_check_keys' };\n      jQuery.getJSON(ajaxurl, data, function (resp) {\n        if (resp.err) {\n          alert(resp.err);\n        }\n        console.log(resp);\n      });\n    }\n\n    /** \n     * \n     */\n\n  }, {\n    key: 'setSelectedCarrier',\n    value: function setSelectedCarrier() {\n      for (var x = 0; x < this.shipping_methods.length; ++x) {\n        var rule_name = 'shiptimize_' + this.shipping_methods[x];\n        var rules = window[rule_name];\n        var elem = jQuery(\"#\" + this.shipping_methods[x]).find('.shiptimize_carrier');\n        console.log(\"settting rules for \" + rule_name, rules);\n        if (typeof rules != 'undefined') {\n          for (var i = 0; i < rules.length; ++i) {\n            jQuery(elem.get(i)).val(rules[i]);\n          }\n        }\n      }\n    }\n\n    /** \n     * @param string - selector - The name of the selector \n     * @param element - eCarrierOption - a template for the carrier select \n     */\n\n  }, {\n    key: 'appendShiptimizeTo',\n    value: function appendShiptimizeTo(selector, eCarrierOption) {\n      var _this3 = this;\n\n      var elem = jQuery(\"#\" + selector).find('.country_select');\n      if (elem.size() == 0) {\n        setTimeout(function () {\n          _this3.appendShiptimizeTo(selector, eCarrierOption);\n        }, 500);\n        return;\n      }\n\n      var eSelect = eCarrierOption.find(\"select\");\n      console.log(eSelect);\n      eSelect.attr(\"name\", \"shiptimize_\" + selector + \"[]\");\n\n      eCarrierOption.clone().insertAfter(elem);\n    }\n  }, {\n    key: 'exportOrder',\n    value: function exportOrder(orderid) {\n      jQuery(\".notice\").remove();\n      jQuery(\"#shiptimize-export-status\").html(shiptimize_label_sending);\n      jQuery.ajax({\n        'url': wcfm_params.ajax_url,\n        'type': 'GET',\n        'data': {\n          'action': 'shiptimize_wcfm_export_order',\n          'orderid': orderid\n        },\n        'success': function success(resp) {\n          console.log(resp);\n          jQuery(\"#shiptimize-export-status\").html(\"\");\n          jQuery(\".wcfm-top-element-container\").append(resp);\n        },\n        'error': function error(err) {\n          jQuery(\"#shiptimize-export-status\").html(JSON.stringify(err));\n          console.log(\"Error exporting \" + orderid, err);\n        }\n      });\n    }\n  }, {\n    key: 'exportSelectedOrders',\n    value: function exportSelectedOrders() {\n      jQuery(\".notice\").remove();\n      jQuery(\"#shiptimize-export-status\").html(shiptimize_label_sending);\n      var orderids = [];\n      jQuery(\".shiptimize-wcfm-checkbox\").each(function (idx, elem) {\n        if (jQuery(this).is(\":checked\")) {\n          orderids.push(jQuery(this).val());\n        }\n      });\n\n      console.log(\"exporting \", orderids);\n      if (orderids.length == 0) {\n        alert(\"No orders where selected\");\n        return;\n      }\n\n      jQuery.ajax({\n        'url': wcfm_params.ajax_url,\n        'type': 'GET',\n        'data': {\n          'action': 'shiptimize_wcfm_export_orders',\n          'orderids': orderids\n        },\n        'success': function success(resp) {\n          console.log(resp);\n          jQuery(\"#shiptimize-export-status\").html(\"\");\n          jQuery(\".wcfm-top-element-container\").append(resp);\n        },\n        'error': function error(err) {\n          jQuery(\"#shiptimize-export-status\").html(JSON.stringify(err));\n          console.log(\"Error exporting \" + orderids, err);\n        }\n      });\n    }\n  }]);\n\n  return ShiptimizeWCFM;\n}();\n\njQuery(function () {\n  window.shiptimize_wcfm = new ShiptimizeWCFM();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9zaGlwdGltaXplLXdjZm0uanM/ZDJlZSJdLCJuYW1lcyI6WyJTaGlwdGltaXplV0NGTSIsInNoaXBwaW5nX21ldGhvZHMiLCJqUXVlcnkiLCJzaXplIiwiYXBwZW5kU2VsZWN0b3JzIiwib24iLCJldnQiLCJ2YWwiLCJzZXRUaW1lb3V0IiwiY2hlY2tJZktleXNBcmVWYWxpZCIsImVDYXJyaWVyT3B0aW9uIiwiZUNhcnJpZXJzIiwieCIsInNoaXB0aW1pemVfY2FycmllcnMiLCJsZW5ndGgiLCJhcHBlbmQiLCJJZCIsIk5hbWUiLCJhcHBlbmRTaGlwdGltaXplVG8iLCJzZXRTZWxlY3RlZENhcnJpZXIiLCJkYXRhIiwiZ2V0SlNPTiIsImFqYXh1cmwiLCJyZXNwIiwiZXJyIiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwicnVsZV9uYW1lIiwicnVsZXMiLCJ3aW5kb3ciLCJlbGVtIiwiZmluZCIsImkiLCJnZXQiLCJzZWxlY3RvciIsImVTZWxlY3QiLCJhdHRyIiwiY2xvbmUiLCJpbnNlcnRBZnRlciIsIm9yZGVyaWQiLCJyZW1vdmUiLCJodG1sIiwic2hpcHRpbWl6ZV9sYWJlbF9zZW5kaW5nIiwiYWpheCIsIndjZm1fcGFyYW1zIiwiYWpheF91cmwiLCJKU09OIiwic3RyaW5naWZ5Iiwib3JkZXJpZHMiLCJlYWNoIiwiaWR4IiwiaXMiLCJwdXNoIiwic2hpcHRpbWl6ZV93Y2ZtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7O0lBR01BLGM7QUFFSiw0QkFBYztBQUFBOztBQUFBOztBQUNaOzs7QUFHQSxTQUFLQyxnQkFBTCxHQUF3QixDQUN0QixpQ0FEc0IsRUFFdEIsdUJBRnNCLENBQXhCOztBQUtBLFFBQUlDLE9BQU8sd0JBQVAsRUFDREMsSUFEQyxLQUNRLENBRFosRUFDZTtBQUNiLFdBQUtDLGVBQUw7QUFDRDs7QUFHRDs7O0FBR0FGLFdBQU8sNEJBQVAsRUFBcUNHLEVBQXJDLENBQXdDLE9BQXhDLEVBQWlELFVBQUND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SUFBUCxFQUFhSyxHQUFiLEVBQWQ7QUFDRDtBQUNGLE9BSkQ7O0FBTUFtQixjQUFRQyxHQUFSLENBQVksWUFBWixFQUEyQnNCLFFBQTNCO0FBQ0EsVUFBSUEsU0FBU25DLE1BQVQsSUFBbUIsQ0FBdkIsRUFBMEI7QUFDeEJXLGNBQU0sMEJBQU47QUFDQTtBQUNEOztBQUVEdkIsYUFBTzBDLElBQVAsQ0FBWTtBQUNWLGVBQU9DLFlBQVlDLFFBRFQ7QUFFVixnQkFBUSxLQUZFO0FBR1YsZ0JBQVE7QUFDTixvQkFBVSwrQkFESjtBQUVOLHNCQUFhRztBQUZQLFNBSEU7QUFPVixtQkFBWSxpQkFBVTFCLElBQVYsRUFBZ0I7QUFDMUJHLGtCQUFRQyxHQUFSLENBQVlKLElBQVo7QUFDQXJCLGlCQUFPLDJCQUFQLEVBQW9Dd0MsSUFBcEMsQ0FBeUMsRUFBekM7QUFDQXhDLGlCQUFPLDZCQUFQLEVBQXNDYSxNQUF0QyxDQUE2Q1EsSUFBN0M7QUFDRCxTQVhTO0FBWVYsaUJBQVUsZUFBVUMsR0FBVixFQUFlO0FBQ3ZCdEIsaUJBQU8sMkJBQVAsRUFBb0N3QyxJQUFwQyxDQUF5Q0ssS0FBS0MsU0FBTCxDQUFleEIsR0FBZixDQUF6QztBQUNBRSxrQkFBUUMsR0FBUixDQUFZLHFCQUFxQnNCLFFBQWpDLEVBQTJDekIsR0FBM0M7QUFDRDtBQWZTLE9BQVo7QUFpQkQ7Ozs7OztBQUdIdEIsT0FBTyxZQUFZO0FBQ2pCNEIsU0FBT3dCLGVBQVAsR0FBeUIsSUFBSXRELGNBQUosRUFBekI7QUFDRCxDQUZEIiwiZmlsZSI6Ii4vanMvc2hpcHRpbWl6ZS13Y2ZtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqIFxuICogQWRkIGFueSBhZGl0aW9uYWwgZnVuY3Rpb25hbGl0eSB3ZSBuZWVkIGluIHRoZSB2ZW5kb3IgZGFzaGJvYXJkIFxuICovXG5jbGFzcyBTaGlwdGltaXplV0NGTSB7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgLyoqIFxuICAgICAqIEJlY2F1c2Ugd2NmbSB3aWxsIGZpcnN0IGJ1aWxkIHRoZSBzdHJ1Y3R1cmUgZm9yIHRoZSBydWxlcyBhbmQgb25seSB0aGVuIHNldCBodGUgdmFsdWVzIFxuICAgICAqL1xuICAgIHRoaXMuc2hpcHBpbmdfbWV0aG9kcyA9IFtcbiAgICAgICd3Y2ZtbXBfc2hpcHBpbmdfcmF0ZXNfYnlfd2VpZ2h0JyxcbiAgICAgICd3Y2ZtbXBfc2hpcHBpbmdfcmF0ZXMnXG4gICAgXTtcblxuICAgIGlmIChqUXVlcnkoXCIjZW5hYmxlX3N0b3JlX3NoaXBwaW5nXCIpXG4gICAgICAuc2l6ZSgpID4gMCkge1xuICAgICAgdGhpcy5hcHBlbmRTZWxlY3RvcnMoKTtcbiAgICB9XG5cblxuICAgIC8qKiBcbiAgICAgKiBPbiBzYXZlIGlmIGtleXMgYXJlIHNldCB0aGVuIGNoZWNrIGlmIHRoZXkgcHJvZHVjZWQgYSB2YWxpZCB0b2tlbiBcbiAgICAgKi8gXG4gICAgalF1ZXJ5KFwiI3djZm1fc2V0dGluZ3Nfc2F2ZV9idXR0b25cIikub24oJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgaWYoalF1ZXJ5KFwiaW5wdXRbbmFtZT0nc2hpcHRpbWl6ZV9wdWJsaWNfa2V5J11cIikudmFsKCkgJiYgalF1ZXJ5KFwiaW5wdXRbbmFtZT0nc2hpcHRpbWl6ZV9wcml2YXRlX2tleSddXCIpLnZhbCgpKXtcbiAgICAgICAgc2V0VGltZW91dCggKCkgPT57IHRoaXMuY2hlY2tJZktleXNBcmVWYWxpZCgpOyB9LCA1MDAgKTsgXG4gICAgICB9XG4gICAgfSk7IFxuICB9XG5cbiAgYXBwZW5kU2VsZWN0b3JzKCkge1xuXG4gICAgdmFyIGVDYXJyaWVyT3B0aW9uID0galF1ZXJ5KFwiPGRpdj48cCBjbGFzcz0nd2NmbV90aXRsZSc+PHN0cm9uZz5TaGlwdGltaXplPC9zdHJvbmc+PC9wPjwvZGl2PlwiKTtcbiAgICB2YXIgZUNhcnJpZXJzID0galF1ZXJ5KFwiPHNlbGVjdCBjbGFzcz0nd2NmbS1zZWxlY3Qgc2hpcHRpbWl6ZV9jYXJyaWVyJz48b3B0aW9uPi08L29wdGlvbj5cIik7XG5cbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHNoaXB0aW1pemVfY2FycmllcnMubGVuZ3RoOyArK3gpIHtcbiAgICAgIGVDYXJyaWVycy5hcHBlbmQoXCI8b3B0aW9uIHZhbHVlPSdcIiArIHNoaXB0aW1pemVfY2FycmllcnNbeF0uSWQgKyBcIic+XCIgKyBzaGlwdGltaXplX2NhcnJpZXJzW3hdLk5hbWUgKyBcIjwvb3B0aW9uPlwiKTtcbiAgICB9XG5cbiAgICBlQ2Fycmllck9wdGlvbi5hcHBlbmQoZUNhcnJpZXJzKTtcblxuICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy5zaGlwcGluZ19tZXRob2RzLmxlbmd0aDsgKyt4KSB7XG4gICAgICB0aGlzLmFwcGVuZFNoaXB0aW1pemVUbyh0aGlzLnNoaXBwaW5nX21ldGhvZHNbeF0sIGVDYXJyaWVyT3B0aW9uKTtcbiAgICB9XG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDYXJyaWVyKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICBjaGVja0lmS2V5c0FyZVZhbGlkKCl7XG4gICAgY29uc3QgZGF0YSA9IHsnYWN0aW9uJzonc2hpcHRpbWl6ZV9jaGVja19rZXlzJ307XG4gICAgalF1ZXJ5LmdldEpTT04oYWpheHVybCwgZGF0YSwgZnVuY3Rpb24ocmVzcCl7XG4gICAgICBpZihyZXNwLmVycil7XG4gICAgICAgIGFsZXJ0KHJlc3AuZXJyKTtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHJlc3ApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqIFxuICAgKiBcbiAgICovXG4gIHNldFNlbGVjdGVkQ2FycmllcigpIHtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHRoaXMuc2hpcHBpbmdfbWV0aG9kcy5sZW5ndGg7ICsreCkge1xuICAgICAgbGV0IHJ1bGVfbmFtZSA9ICdzaGlwdGltaXplXycgKyB0aGlzLnNoaXBwaW5nX21ldGhvZHNbeF07XG4gICAgICBsZXQgcnVsZXMgPSB3aW5kb3dbcnVsZV9uYW1lXTtcbiAgICAgIGxldCBlbGVtID0galF1ZXJ5KFwiI1wiICsgdGhpcy5zaGlwcGluZ19tZXRob2RzW3hdKVxuICAgICAgLmZpbmQoJy5zaGlwdGltaXplX2NhcnJpZXInKTtcbiAgICAgIGNvbnNvbGUubG9nKFwic2V0dHRpbmcgcnVsZXMgZm9yIFwiICsgcnVsZV9uYW1lLCBydWxlcyk7XG4gICAgICBpZih0eXBlb2YocnVsZXMpICE9ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBydWxlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgalF1ZXJ5KGVsZW0uZ2V0KGkpKS52YWwocnVsZXNbaV0pOyBcbiAgICAgICAgICB9IFxuICAgICAgfSBcbiAgICB9XG4gIH1cblxuICAvKiogXG4gICAqIEBwYXJhbSBzdHJpbmcgLSBzZWxlY3RvciAtIFRoZSBuYW1lIG9mIHRoZSBzZWxlY3RvciBcbiAgICogQHBhcmFtIGVsZW1lbnQgLSBlQ2Fycmllck9wdGlvbiAtIGEgdGVtcGxhdGUgZm9yIHRoZSBjYXJyaWVyIHNlbGVjdCBcbiAgICovXG4gIGFwcGVuZFNoaXB0aW1pemVUbyhzZWxlY3RvciwgZUNhcnJpZXJPcHRpb24pIHtcbiAgICBsZXQgZWxlbSA9IGpRdWVyeShcIiNcIiArIHNlbGVjdG9yKVxuICAgICAgLmZpbmQoJy5jb3VudHJ5X3NlbGVjdCcpO1xuICAgIGlmIChlbGVtLnNpemUoKSA9PSAwKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5hcHBlbmRTaGlwdGltaXplVG8oc2VsZWN0b3IsIGVDYXJyaWVyT3B0aW9uKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG5cbiAgICB2YXIgZVNlbGVjdCA9IGVDYXJyaWVyT3B0aW9uLmZpbmQoXCJzZWxlY3RcIik7XG4gICAgY29uc29sZS5sb2coZVNlbGVjdCk7XG4gICAgZVNlbGVjdC5hdHRyKFwibmFtZVwiLCBcInNoaXB0aW1pemVfXCIgKyBzZWxlY3RvciArIFwiW11cIik7XG5cbiAgICBlQ2Fycmllck9wdGlvbi5jbG9uZSgpXG4gICAgICAuaW5zZXJ0QWZ0ZXIoZWxlbSk7XG4gIH1cblxuICBleHBvcnRPcmRlcihvcmRlcmlkKXtcbiAgICBqUXVlcnkoXCIubm90aWNlXCIpLnJlbW92ZSgpO1xuICAgIGpRdWVyeShcIiNzaGlwdGltaXplLWV4cG9ydC1zdGF0dXNcIikuaHRtbChzaGlwdGltaXplX2xhYmVsX3NlbmRpbmcpO1xuICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICd1cmwnOiB3Y2ZtX3BhcmFtcy5hamF4X3VybCxcbiAgICAgICd0eXBlJzogJ0dFVCcsIFxuICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICdhY3Rpb24nOiAnc2hpcHRpbWl6ZV93Y2ZtX2V4cG9ydF9vcmRlcicsXG4gICAgICAgICdvcmRlcmlkJyA6IG9yZGVyaWQsXG4gICAgICB9LFxuICAgICAgJ3N1Y2Nlc3MnIDogZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzcCk7IFxuICAgICAgICBqUXVlcnkoXCIjc2hpcHRpbWl6ZS1leHBvcnQtc3RhdHVzXCIpLmh0bWwoXCJcIik7XG4gICAgICAgIGpRdWVyeShcIi53Y2ZtLXRvcC1lbGVtZW50LWNvbnRhaW5lclwiKS5hcHBlbmQocmVzcCk7XG4gICAgICB9LFxuICAgICAgJ2Vycm9yJyA6IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgalF1ZXJ5KFwiI3NoaXB0aW1pemUtZXhwb3J0LXN0YXR1c1wiKS5odG1sKEpTT04uc3RyaW5naWZ5KGVycikpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGV4cG9ydGluZyBcIiArIG9yZGVyaWQsIGVycik7IFxuICAgICAgfVxuICAgIH0pOyBcbiAgfVxuXG4gIGV4cG9ydFNlbGVjdGVkT3JkZXJzKCl7XG4gICAgalF1ZXJ5KFwiLm5vdGljZVwiKS5yZW1vdmUoKTtcbiAgICBqUXVlcnkoXCIjc2hpcHRpbWl6ZS1leHBvcnQtc3RhdHVzXCIpLmh0bWwoc2hpcHRpbWl6ZV9sYWJlbF9zZW5kaW5nKTtcbiAgICB2YXIgb3JkZXJpZHMgPSBbXTsgXG4gICAgalF1ZXJ5KFwiLnNoaXB0aW1pemUtd2NmbS1jaGVja2JveFwiKS5lYWNoKGZ1bmN0aW9uIChpZHgsZWxlbSkge1xuICAgICAgaWYgKGpRdWVyeSh0aGlzKS5pcyhcIjpjaGVja2VkXCIpKSB7XG4gICAgICAgIG9yZGVyaWRzLnB1c2goalF1ZXJ5KHRoaXMpLnZhbCgpKTsgXG4gICAgICB9XG4gICAgfSk7IFxuXG4gICAgY29uc29sZS5sb2coXCJleHBvcnRpbmcgXCIgLCBvcmRlcmlkcyk7IFxuICAgIGlmIChvcmRlcmlkcy5sZW5ndGggPT0gMCkge1xuICAgICAgYWxlcnQoXCJObyBvcmRlcnMgd2hlcmUgc2VsZWN0ZWRcIik7IFxuICAgICAgcmV0dXJuOyBcbiAgICB9XG5cbiAgICBqUXVlcnkuYWpheCh7XG4gICAgICAndXJsJzogd2NmbV9wYXJhbXMuYWpheF91cmwsXG4gICAgICAndHlwZSc6ICdHRVQnLCBcbiAgICAgICdkYXRhJzoge1xuICAgICAgICAnYWN0aW9uJzogJ3NoaXB0aW1pemVfd2NmbV9leHBvcnRfb3JkZXJzJyxcbiAgICAgICAgJ29yZGVyaWRzJyA6IG9yZGVyaWRzLFxuICAgICAgfSxcbiAgICAgICdzdWNjZXNzJyA6IGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3ApOyBcbiAgICAgICAgalF1ZXJ5KFwiI3NoaXB0aW1pemUtZXhwb3J0LXN0YXR1c1wiKS5odG1sKFwiXCIpO1xuICAgICAgICBqUXVlcnkoXCIud2NmbS10b3AtZWxlbWVudC1jb250YWluZXJcIikuYXBwZW5kKHJlc3ApO1xuICAgICAgfSxcbiAgICAgICdlcnJvcicgOiBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGpRdWVyeShcIiNzaGlwdGltaXplLWV4cG9ydC1zdGF0dXNcIikuaHRtbChKU09OLnN0cmluZ2lmeShlcnIpKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBleHBvcnRpbmcgXCIgKyBvcmRlcmlkcywgZXJyKTsgXG4gICAgICB9XG4gICAgfSk7ICBcbiAgfSBcbn1cblxualF1ZXJ5KGZ1bmN0aW9uICgpIHtcbiAgd2luZG93LnNoaXB0aW1pemVfd2NmbSA9IG5ldyBTaGlwdGltaXplV0NGTSgpO1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/shiptimize-wcfm.js\n");

/***/ })

/******/ });